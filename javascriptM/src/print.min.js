function printInit(){require(["dojo/store/Memory","dijit/form/ComboBox","dijit/form/Select"],function(e,t,i){var a;a=new e(useLargeSizes?{idProperty:"value",data:[{name:"small",value:"8.5 x 11"},{name:"medium",value:"11 x 17"},{name:"large",value:"17 x 22"},{name:"x large",value:"22 x 34"},{name:"xx large",value:"34 x 44"}]}:{idProperty:"name",data:[{name:"8.5 x 11",value:"8.5 x 11"},{name:"11 x 17",value:"11 x 17"}]}),sizeCombo=new i({id:"size",name:"size",store:a,value:a.data[0].name,sortByLabel:!1,labelAttr:"name",maxHeight:-1,style:{margin:"auto"},onChange:function(){changePrintSize()}},"size"),sizeCombo.startup();var r=new e({idProperty:"name",data:[{name:"Landscape"},{name:"Portrait"}]});orientCombo=new i({id:"orient",name:"orient",store:r,value:r.data[1].name,sortByLabel:!1,labelAttr:"name",maxHeight:-1,style:{margin:"auto"},onChange:function(){changePrintSize()}},"orient"),orientCombo.startup()});var e=createXMLhttpRequest(),t=app+"/PrintPdfWidget.xml?v="+ndisVer;e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=createXMLdoc(e);t.getElementsByTagName("disclaimer")[0]?prtDisclaimer=t.getElementsByTagName("disclaimer")[0].firstChild.nodeValue:alert("Missing tag, disclaimer, in "+app+"/PrintPdfWidget.xml file.","Data Error")}else 404===e.status?(alert("Error: Missing PrintPdfWidget.aspx file in "+app+" directory.","Data Error"),hideLoading()):4===e.readyState&&500===e.status&&(alert("Missing PrintPdfWidget.aspx file. app="+app,"Data Error"),hideLoading())},e.open("GET",t,!0),e.send()}function printShow(){require(["esri/SpatialReference","esri/layers/GraphicsLayer","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/VectorTileLayer","esri/layers/OpenStreetMapLayer","dojo/dom","dojo/on","dojo/_base/array"],function(e,t,a,r,n,s,d,l,o){function p(e){"none"!==d.byId("printDiv").style.display&&require(["esri/layers/FeatureLayer"],function(t){B[e]++;var i=new t(map.getLayer(e).url,{opacity:Number(map.getLayer(e).opacity),id:e,visible:map.getLayer(e).visible});b.push(l(i,"error",y)),b.push(l(i,"load",m))})}function m(e){B[e.target.id]>5&&alert("While printing, the "+e.target.id+" service loaded sucessfully.","Note"),e.layer.refresh(),previewMap.addLayer(e.layer)}function y(e){B[e.target.id]<5?setTimeout(function(){p(e.target.id)},500):5==B[e.target.id]?(e.target.id.indexOf("Motor Vehicle")>-1||e.target.id.indexOf("Wildfire")>-1||e.target.id.indexOf("BLM")>-1?alert("While printing, the external map service that provides "+e.target.id+" is experiencing problems.  This issue is out of CPW control. We will continue trying to load it. We apologize for any inconvenience.","External (Non-CPW) Map Service Error"):alert("While printing, the "+e.target.id+" service is busy or not responding. We will continue trying to load it.","Data Error"),setTimeout(function(){p(e.target.id)},500)):setTimeout(function(){p(e.target.id)},1e3)}function c(e){if("none"!==d.byId("printDiv").style.display){B[e.id]++;for(var t=[],i=0;i<e.visibleLayers.length;i++)t.push(parseInt(e.visibleLayers[i]));var a=new r(e.url,{opacity:parseFloat(e.opacity),id:e.id,visible:e.visible});a.setVisibleLayers(t),t=null,b.push(l(a,"error",u)),b.push(l(a,"load",g)),printDialog.on("hide",h)}}function h(e){o.forEach(b,function(e){e.remove()}),b=[]}function u(e){B[e.target.id]<5?setTimeout(function(){c(map.getLayer(e.target.id))},500):5===B[e.target.id]?(e.target.id.indexOf("Motor Vehicle")>-1||e.target.id.indexOf("Wildfire")>-1||e.target.id.indexOf("BLM")>-1?alert("While printing, the external map service that provides "+e.target.id+" is experiencing problems.  This issue is out of CPW control. We will continue trying to load it. We apologize for any inconvenience.","External (Non-CPW) Map Service Error"):alert("While printing, the "+e.target.id+" service is busy or not responding. We will continue trying to load it.","Data Error"),setTimeout(function(){c(map.getLayer(e.target.id))},500)):setTimeout(function(){c(map.getLayer(e.target.id))},1e3)}function g(e){B[e.target.id]>5&&alert("While printing, the "+e.target.id+" service loaded sucessfully.","Note");var t,a=e.layer;if(!(a.url.indexOf("World_Street_Map")>-1)&&0!=a.id.indexOf("layer")){x++;var r=a.visibleLayers,n=a.layerInfos;for(j=0;j<a.visibleLayers.length;j++){k=a.visibleLayers[j];do{if(hideGroupSublayers.indexOf(n[k].name)>-1&&n[k].subLayerIds)for(t=0;t<n[k].subLayerIds.length;t++)if(-1==r.indexOf(n[k].subLayerIds[t])&&r.push(n[k].subLayerIds[t]),"Big Game GMU"==n[n[k].subLayerIds[t]+1].name){var s=1;"Bighorn GMU"==gmu?s=2:"Goat GMU"==gmu&&(s=3),-1==r.indexOf(n[k].subLayerIds[t]+s)&&r.push(n[k].subLayerIds[t]+s)}else-1==r.indexOf(n[k].subLayerIds[t]+1)&&r.push(n[k].subLayerIds[t]+1);k=n[k].parentLayerId}while(-1!=k)}var d=new Array(0,1,2,3,4,5,6,7,8,9);for(t=0;t<n.length;t++){-1!=r.indexOf(n[t].id)?n[t].visible=!0:-1==n[t].parentLayerId||n[t].subLayerIds?n[t].visible=!1:n[t].name.substr(n[t].name.length-3,3).indexOf("GMU")>-1?n[t].name==gmu?(-1==r.indexOf(t)&&(n[t].visible=!0),d.indexOf(parseInt(n[n[t].parentLayerId].name.substr(0,1)))>-1&&-1==r.indexOf(n[t].parentLayerId)&&(n[n[t].parentLayerId].visible=!0)):n[t].visible=!1:1==n[t].defaultVisibility&&-1===r.indexOf(n[t].parentLayerId)&&d.indexOf(parseInt(n[n[t].parentLayerId].name.substr(0,1)))>-1&&(n[n[t].parentLayerId].visible=!0);var l=r.indexOf(n[t].id);l>-1&&n[t].subLayerIds&&r.splice(l,1)}if(a.setVisibleLayers(r.sort(function(e,t){return e-t}),!1),a.refresh(),a.spatialReference=I,M.push(a),x==L){for(i=0;i<E.length;i++)for(j=0;j<M.length;j++)E[i]==M[j].id&&previewMap.addLayer(M[j]);M=null,E=null}}}var v,w,f,I=new e({wkid:wkid}),b=[],L=0,x=0,M=[],E=[],B=[];try{for(document.getElementById("showPreviewMap").checked=!1,drawing=!0,document.getElementById("print_button").style.display="block",document.getElementById("printMapLink").innerHTML="",document.getElementById("print_link").style.display="none",document.getElementById("printMB").style.display="none",document.getElementById("print_instr").style.display="block",document.getElementById("sizeLabel").style.display="inline",document.getElementById("size").style.display="inline-table",document.getElementById("mapscale").style.display="inline",document.getElementById("mapscaleList").style.display="inline-table",document.getElementById("orientLabel").style.display="inline",document.getElementById("orient").style.display="inline-table",document.getElementById("pdf_name_label").style.display="block",document.getElementById("pdf_name").style.display="block",document.getElementById("pdf_name").onclick=function(){document.getElementById("printScroll").scrollTop=2e3},document.getElementById("pdf_name").onkeyup=function(e){null!=e.key?"Enter"!==e.key&&"NumpadEnter"!==e.key||document.getElementById("pdf_name").blur():13==e.keyCode&&document.getElementById("pdf_name").blur()},document.getElementById("printPreview").style.display="block",document.getElementById("previewCkBx").style.display="block",previewMap.removeAllLayers(),printDialog.show(),i=0;i<map.layerIds.length;i++)w=map.getLayer(map.layerIds[i]),"layer_osm"==map.layerIds[i]?(f=new s,f.id="layer_osm",previewMap.addLayer(f),f=null):w.attributionDataUrl&&w.attributionDataUrl.indexOf("OpenStreet")>-1?(f=new s,f.id="layer_osm",previewMap.addLayer(f),f=null):map.layerIds[i].indexOf("layer")>-1&&1==map.getLayer(map.layerIds[i]).visibleAtMapScale&&(map.getLayer(map.layerIds[i]).url.indexOf("MapServer")>-1?v=new a(map.getLayer(map.layerIds[i]).url,{id:"basemap",visible:!0}):(v=new n(map.getLayer(map.layerIds[i]).url,{id:"basemap",visible:!0}),v.setStyle(map.getLayer(map.layerIds[i]).url)),"reference"==w._basemapGalleryLayerType?v.id="reference":i>0&&(v.id="basemap"+i),v.spatialReference=map.spatialReference,v._basemapGalleryLayerType=w._basemapGalleryLayerType,v.refresh(),previewMap.addLayer(v),v=null);for(i=0;i<map.layerIds.length;i++)w=map.getLayer(map.layerIds[i]),0!=w.id.indexOf("layer")&&(w.attributionDataUrl&&w.attributionDataUrl.indexOf("OpenStreet")>-1||w.layerInfos&&w.visible&&(L++,E.push(w.id)));if(0==L)return alert("Printing of basemaps alone does not work. Please add map layers. From the menu, select 'Layers & Legend.'","Warning"),void(drawing=!1);for(i=0;i<map.layerIds.length;i++)w=map.getLayer(map.layerIds[i]),w.layerInfos&&w.visible&&(B[w.id]=0,c(w));var P;for(i=0;i<map.graphicsLayerIds.length;i++)if(map.graphicsLayerIds[i].indexOf("drawgraphics")>-1||map.graphicsLayerIds[i].indexOf("drawtextgraphics")>-1){P=new t,P.id=map.graphicsLayerIds[i],P.visible=!0,P.spatialReference=previewMap.spatialReference;for(var S=map.getLayer(map.graphicsLayerIds[i]).graphics,W=0;W<S.length;W++){var C=S[W].clone();P.add(C)}previewMap.addLayer(P),P=null,S=null}else map.graphicsLayerIds[i].indexOf("Wildfire")>-1&&(B[map.graphicsLayerIds[i]]=0,p(map.graphicsLayerIds[i]));previewMap.spatialReference=I;var T=map.getLevel();T!=previewMap.getLevel()?(previewMap.extent=map.extent,document.getElementById("printPreview").style.display="none",dijit.byId("mapscaleList").set("displayedValue",Math.round(T))):(previewMap.extent=map.extent,changePrintSize()),I=null}catch(e){alert("Problem loading print menu. Error message: "+e.message,"Notice",e)}})}function changePrintSize(e){require(["esri/geometry/Point","esri/geometry/Extent","esri/SpatialReference","dojo/dom","dijit/registry"],function(t,i,a,r,n){if(previewMap&&previewMap.extent){document.getElementById("printMapLink").innerHTML="";r.byId("orient");var s=orientCombo.attr("displayedValue"),d=(r.byId("size"),sizeCombo.attr("value"));if(e){var l,o=dijit.byId("mapscaleList").get("value"),p=3.28084*(map.extent.xmax-map.extent.xmin)*12/o,m=3.28084*(map.extent.ymax-map.extent.ymin)*12/o;if(l="Landscape"==s?p:m,useLargeSizes){if(l<=11){if("8.5 x 11"!=d)return d="8.5 x 11",sizeCombo.set("value","8.5 x 11"),void("Landscape"==s?(inchesWidth=10.2,inchesHeight=7.25):(inchesWidth=7.7,inchesHeight=9.75))}else if(l<=17){if("11 x 17"!=d)return d="11 x 17",sizeCombo.set("value","11 x 17"),void("Landscape"==s?(inchesWidth=16.2,inchesHeight=9.75):(inchesWidth=10.2,inchesHeight=15.75))}else if(l<=22){if("17 x 22"!=d)return d="17 x 22",sizeCombo.set("value","17 x 22"),void("Landscape"==s?(inchesWidth=21.2,inchesHeight=15.75):(inchesWidth=16.2,inchesHeight=20.75))}else if(l<=34){if("22 x 34"!=d)return d="22 x 34",sizeCombo.set("value","22 x 34"),void("Landscape"==s?(inchesWidth=33.2,inchesHeight=20.75):(inchesWidth=21.2,inchesHeight=32.75))}else if("34 x 44"!=d)return d="34 x 44",sizeCombo.set("value","34 x 44"),void("Landscape"==s?(inchesWidth=43.2,inchesHeight=32.75):(inchesWidth=33.2,inchesHeight=42.75))}else if(l<=11){if("8.5 x 11"!=d)return d="8.5 x 11",sizeCombo.set("value","8.5 x 11"),void("Landscape"==s?(inchesWidth=10.2,inchesHeight=7.25):(inchesWidth=7.7,inchesHeight=9.75))}else if("11 x 17"!=d)return d="11 x 17",sizeCombo.set("value","11 x 17"),void("Landscape"==s?(inchesWidth=16.2,inchesHeight=9.75):(inchesWidth=10.2,inchesHeight=15.75))}"8.5 x 11"==d?d="Letter ":"11 x 17"==d?d="Tabloid ":"17 x 22"==d?d="ANSIC ":"22 x 34"==d?d="ANSID ":"34 x 44"==d&&(d="ANSIE "),"Landscape"==s?"Letter "==d?(previewMap.width=979,previewMap.height=696,inchesWidth=10.2,inchesHeight=7.25,n.byId("printPreviewMap").resize({w:previewMap.width,h:previewMap.height})):"Tabloid "==d?(previewMap.width=1555,previewMap.height=936,inchesWidth=16.2,inchesHeight=9.75,n.byId("printPreviewMap").resize({w:previewMap.width,h:previewMap.height})):"ANSIC "==d?(previewMap.width=2035,previewMap.height=1512,inchesWidth=21.2,inchesHeight=15.75,n.byId("printPreviewMap").resize({w:previewMap.width,h:previewMap.height})):"ANSID "==d?(previewMap.width=3187,previewMap.height=1992,inchesWidth=33.2,inchesHeight=20.75,n.byId("printPreviewMap").resize({w:previewMap.width,h:previewMap.height})):"ANSIE "==d&&(previewMap.width=4147,previewMap.height=3120,inchesWidth=43.2,inchesHeight=32.75,n.byId("printPreviewMap").resize({w:previewMap.width,h:previewMap.height})):"Letter "==d?(previewMap.width=739,previewMap.height=936,inchesWidth=7.7,inchesHeight=9.75,n.byId("printPreviewMap").resize({w:previewMap.width,h:previewMap.height})):"Tabloid "==d?(previewMap.width=979,previewMap.height=1512,inchesWidth=10.2,inchesHeight=15.75,n.byId("printPreviewMap").resize({w:previewMap.width,h:previewMap.height})):"ANSIC "==d?(previewMap.width=1555,previewMap.height=1992,inchesWidth=16.2,inchesHeight=20.75,n.byId("printPreviewMap").resize({w:previewMap.width,h:previewMap.height})):"ANSID "==d?(previewMap.width=2035,previewMap.height=3144,inchesWidth=21.2,inchesHeight=32.75,n.byId("printPreviewMap").resize({w:previewMap.width,h:previewMap.height})):"ANSIE "==d&&(previewMap.width=3187,previewMap.height=4104,inchesWidth=33.2,inchesHeight=42.75,n.byId("printPreviewMap").resize({w:previewMap.width,h:previewMap.height})),document.getElementById("printPreviewMap").style.width=previewMap.width+"px",document.getElementById("printPreviewMap").style.height=previewMap.height+"px";var y=document.getElementById("printPreviewMap_root");y.style.width=previewMap.width+"px",y.style.height=previewMap.height+"px",y.style.overflow="auto",showPrintPreview()}else alert("Please wait for page to load.")})}function printMap(){require(["esri/tasks/PrintTask","esri/tasks/PrintTemplate","esri/tasks/PrintParameters","esri/graphic","esri/geometry/Point","esri/tasks/LegendLayer","esri/layers/GraphicsLayer","dojo/dom"],function(e,t,i,a,r,n,s,d){function l(e){var t,i,a=Date.now()-startTim,r="geopdf",n=sizeCombo.attr("value")+" "+r+" ",s=dijit.byId("mapscaleList").attr("displayedValue"),d=sizeCombo.attr("value"),l=Math.floor(a/1e3),o="Print geoPDF",m="";for(t=0;t<previewMap.layerIds.length;t++)switch(previewMap.layerIds[t]){case"Motor Vehicle Use Map":m+="M";break;case"Hunter Reference":m+="R";break;case"Game Species":m+="G";break;case"Fishing Info":m+="F";break;case"Reference":m+="R"}n+=m;var y=-1;if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.open("HEAD",e.url,!0),c.onreadystatechange=function(){this.readyState==this.DONE&&(y=parseInt(c.getResponseHeader("Content-Length"))/1048576,isNaN(y)||(y=parseFloat(y.toFixed(2))),console.log("Time to create map = "+l+" seconds for "+n+" "+s+" "+y+"MB"),i={metric1:l,metric2:y,dimension2:sizeCombo.attr("value"),dimension3:m,dimension4:s,dimension5:r},"function"==typeof ga&&ga("send","event",n,d,o,l,i),document.getElementById("printMB").innerHTML="File size is "+y+"MB.",document.getElementById("printMB").style.display="block")},c.send()}else console.log("Time to create map = "+l+" seconds for "+n+" "+s),i={metric1:l,dimension2:sizeCombo.attr("value"),dimension3:m,dimension4:s,dimension5:r},"function"==typeof ga&&ga("send","event",n,d,o,l,i);for(console.log("printing to "+e.url),t=0;t<p;t++)removeDrawItem();u&&(document.getElementById("print_link").href=e.url+"?v="+Date.now(),document.getElementById("printInst").style.display="none",document.getElementById("print_link").style.display="block",document.getElementById("print_link").addEventListener("click",hidePrintDialog),clearInterval(h)),u=!0}function o(e){document.getElementById("printInst").style.display="none",alert("Error printing with basemap, "+mapBasemap+". Error Code: "+e,"Code Error",e),document.getElementById("printMapLink").innerHTML="";for(var t=0;t<p;t++)removeDrawItem();printDialog.hide(),clearInterval(h)}var p;try{if(""==document.getElementById("pdf_name").value)return document.getElementById("pdf_name").classList.add("error"),void(document.getElementById("pdf_name").placeholder="Please enter a file name.");if(outputName=document.getElementById("pdf_name").value,outputName=outputName.replace(/([^a-zA-Z0-9\-_\. ])/g,""),".pdf"==outputName.substr(outputName.length-4)&&(outputName=outputName.substr(0,outputName.length-4)),""==outputName)return void alert("Please enter a valid file name.","");if(!fullExtent.contains(previewMap.extent))return alert("Printing is only allowed for Colorado.","Warning"),void(document.getElementById("previewLoading").style.display="none");document.getElementById("previewCkBx").style.display="none",document.getElementById("print_instr").style.display="none",document.getElementById("printPreview").style.display="none",document.getElementById("print_button").style.display="none",document.getElementById("printInst").style.display="inline-block",document.getElementById("sizeLabel").style.display="none",document.getElementById("size").style.display="none",document.getElementById("mapscale").style.display="none",document.getElementById("mapscaleList").style.display="none",document.getElementById("orientLabel").style.display="none",document.getElementById("orient").style.display="none",document.getElementById("pdf_name_label").style.display="none",document.getElementById("pdf_name").style.display="none",document.getElementById("printScroll").scrollTop=0,document.getElementById("perDone").innerHTML="0%",document.getElementById("printBar").style.width="0px";var m,y=0,c=sizeCombo.attr("value");"8.5 x 11"==c?m=60:"11 x 17"==c?m=120:"17 x 22"==c?m=180:"22 x 34"==c?m=240:"34 x 44"==c&&(m=240),document.getElementById("aproxMin").innerHTML="Approximate time needed to create this PDF is "+m/60+" minutes or less.";var h=setInterval(function(){y+=2;var e=Math.round(y/m*100);document.getElementById("perDone").innerHTML=e+"%",document.getElementById("printBar").style.width=e+"%",e>100&&(document.getElementById("printBar").style.width=0,y=0,document.getElementById("perDone").innerHTML="0%")},2e3),u=!0;document.getElementById("printMapLink").innerHTML="",p=0;for(var g,v,w=previewMap.getLayersVisibleAtScale(),f=[],I=1;I<w.length;I++)if(w[I].visible&&"topo"!=w[I].id&&"streets"!=w[I].id&&"hybrid"!=w[I].id){if(w[I].id.indexOf("drawgraphics")>0){if(w[I].graphics.length>1&&"point"==w[I].graphics[0].geometry.type&&!w[I].graphics[0].symbol.text){p++;var b=new r(w[I].graphics[0].geometry.x,w[I].graphics[0].geometry.y,map.spatialReference),L=new a(b),x=new s;x.id="drawgraphics"+drawGraphicsCounter,drawGraphicsCount.push(x.id),drawGraphicsCounter++,addLabel(L,w[I].graphics[1].symbol.text,x,"11pt")}continue}w[I].visibleLayers&&(g=new n,g.layerId=w[I].id,g.subLayerIds=w[I].visibleLayers,f.push(g),g=null)}var M,E=new i,B=new t,P=(d.byId("orient"),orientCombo.attr("displayedValue"));"8.5 x 11"==c?c="Letter":"11 x 17"==c?c="Tabloid":"17 x 22"==c?c="ANSIC":"22 x 34"==c?c="ANSID":"34 x 44"==c&&(c="ANSIE"),B.exportOptions={dpi:dpi,width:parseInt(inchesWidth*dpi),height:parseInt(inchesHeight*dpi)},B.layout=app+" "+c+" "+P,v=new e(printGeoServiceUrl),B.preserveScale=!0,u=!0,M="none",B.format="pdf",E.extraParameters={Georef_Info:"True",Legend_Template:M,Output_Name:outputName},B.showAttribution=!1;var k=outputName;B.layoutOptions={titleText:k,authorText:prtDisclaimer,legendLayers:[],customTextElements:[{Subtitle:""}]},E.map=previewMap,E.template=B,v.execute(E,l,o),startTim=Date.now()}catch(e){for(var S=0;S<p;S++)removeDrawItem();alert("Error while printing: "+e.message,"Code Error",e),document.getElementById("printInst").style.display="none"}})}function showPrintPreview(){try{if(!document.getElementById("showPreviewMap").checked)return void(document.getElementById("printPreview").style.display="none");document.getElementById("print_img").src="",document.getElementById("printPreview").style.display="block",document.getElementById("previewLoading").style.display="block"}catch(e){alert("Error while printing: "+e.message,"Code Error",e)}require(["esri/tasks/PrintTask","esri/tasks/PrintTemplate","esri/tasks/PrintParameters"],function(e,t,i){function a(e){for(var t,i=Date.now()-startTim,a="prev",r=sizeCombo.attr("value")+" "+a+" ",n=sizeCombo.attr("value"),s=dijit.byId("mapscaleList").attr("displayedValue"),d=Math.floor(i/1e3),l="Print Preview",o="",p=0;p<previewMap.layerIds.length;p++)switch(previewMap.layerIds[p]){case"Motor Vehicle Use Map":o+="M";break;case"Hunter Reference":o+="R";break;case"Game Species":o+="G";break;case"Fishing Info":o+="F";break;case"Reference":o+="R"}r+=o,console.log("Time to create preview map = "+d+" seconds for "+r+" "+s),t={metric1:d,dimension2:sizeCombo.attr("value"),dimension3:o,dimension4:s,dimension5:a},"function"==typeof ga&&ga("send","event",r,n,l,d,t),console.log("printing to "+e.url),document.getElementById("print_img").src=e.url,document.getElementById("previewLoading").style.display="none"}function r(e){document.getElementById("previewLoading").style.display="none",alert("Error loading preview: "+e,"Code Error",e)}var n,s=new i,d=new t,l=outputName,o=orientCombo.attr("displayedValue"),p=sizeCombo.attr("value");if("8.5 x 11"==p?p="Letter ":"11 x 17"==p?p="Tabloid ":"17 x 22"==p?p="ANSIC ":"22 x 34"==p?p="ANSID ":"34 x 44"==p&&(p="ANSIE "),d.layout=app+" "+p+o,n=new e(printGeoServiceUrl),d.preserveScale=!0,d.format="prev",d.exportOptions={dpi:72,width:parseInt(72*inchesWidth),height:parseInt(72*inchesHeight)},d.showAttribution=!1,d.layoutOptions={titleText:l,authorText:prtDisclaimer,legendLayers:[],customTextElements:[{Subtitle:""}]},s.map=previewMap,s.template=d,!fullExtent.contains(previewMap.extent))return alert("Printing is only allowed for Colorado.","Warning"),void(document.getElementById("previewLoading").style.display="none");n.execute(s,a,r),startTim=Date.now()})}var sizeCombo,orientCombo,startTim,inchesWidth,inchesHeight,prtDisclaimer="",outputName="",dpi=96,useLargeSizes=!1;